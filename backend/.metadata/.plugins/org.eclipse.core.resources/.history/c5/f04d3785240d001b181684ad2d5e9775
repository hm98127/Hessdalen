package org.mdoubleh.www.service;

import static org.mdoubleh.www.common.JdbcUtil.*;

import java.sql.Connection;

public class HessService {
	public boolean logoutMember(MemberVo memberVo) {
        HessDao dao = HessDao.getInstance();
        Connection con = getConnection();
        dao.setConnection(con);
        boolean isSucess = false;
        memberVo.setSq(dao.getMemberSequence(memberVo.getId()));
        int count_01 = dao.updateLoginState(memberVo);
        int count_02 = dao.insertMemberHistory(memberHistoryVo);
        if (count_01 > 0 && count_02 > 0) {
            commit(con);
            isSucess = true;
        } else {
            rollback(con);
        }
        close(con);
        return isSucess;
    }

}
